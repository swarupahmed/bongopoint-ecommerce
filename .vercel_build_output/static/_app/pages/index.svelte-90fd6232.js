import{S as K,i as O,s as R,e as m,c as v,V as U,b as g,f as y,d,k as W,t as D,a as k,n as X,g as P,W as q,E as u,F as Y,h as Z,K as z,X as lt,J as st,Y as rt,l as T,x as b,j as ot,m as ct,o as nt,u as j,v as it,w as H,Z as ut,A as ft,r as L}from"../chunks/vendor-aa600824.js";import{g as dt}from"../chunks/navigation-51f4a605.js";import{l as Q}from"../chunks/cartStore-4b548c86.js";import{c as _t}from"../chunks/cart-3132a3aa.js";import"../chunks/singletons-12a22614.js";function x(c){let a,r,t;return{c(){a=m("img"),this.h()},l(e){a=v(e,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){U(a.src,r=c[0].images[0])||g(a,"src",r),g(a,"alt",t=c[0].images[0].split("com/")[1]),g(a,"class","svelte-1hagw5p")},m(e,o){y(e,a,o)},p(e,o){o&1&&!U(a.src,r=e[0].images[0])&&g(a,"src",r),o&1&&t!==(t=e[0].images[0].split("com/")[1])&&g(a,"alt",t)},d(e){e&&d(a)}}}function pt(c){var M;let a,r,t,e,o,l,n=c[0].title+"",s,h,p,B,w=c[0].price+"",C,$,N,S,A,i=((M=c[0].images)==null?void 0:M.length)&&x(c);return{c(){a=m("div"),r=m("div"),t=m("div"),i&&i.c(),e=W(),o=m("div"),l=m("div"),s=D(n),h=W(),p=m("div"),B=D("tk. "),C=D(w),$=m("button"),N=D("cart+"),this.h()},l(f){a=v(f,"DIV",{class:!0});var _=k(a);r=v(_,"DIV",{});var E=k(r);t=v(E,"DIV",{style:!0});var F=k(t);i&&i.l(F),F.forEach(d),E.forEach(d),e=X(_),o=v(_,"DIV",{class:!0});var I=k(o);l=v(I,"DIV",{class:!0});var G=k(l);s=P(G,n),G.forEach(d),h=X(I),p=v(I,"DIV",{style:!0});var V=k(p);B=P(V,"tk. "),C=P(V,w),$=v(V,"BUTTON",{});var J=k($);N=P(J,"cart+"),J.forEach(d),V.forEach(d),I.forEach(d),_.forEach(d),this.h()},h(){q(t,"height","132px"),g(l,"class","title svelte-1hagw5p"),q(p,"padding","1px"),q(p,"color","#A80B7C"),g(o,"class","product-meta svelte-1hagw5p"),g(a,"class","product svelte-1hagw5p")},m(f,_){y(f,a,_),u(a,r),u(r,t),i&&i.m(t,null),u(a,e),u(a,o),u(o,l),u(l,s),u(o,h),u(o,p),u(p,B),u(p,C),u(p,$),u($,N),S||(A=[Y($,"click",c[2]),Y(a,"click",c[3])],S=!0)},p(f,[_]){var E;((E=f[0].images)==null?void 0:E.length)?i?i.p(f,_):(i=x(f),i.c(),i.m(t,null)):i&&(i.d(1),i=null),_&1&&n!==(n=f[0].title+"")&&Z(s,n),_&1&&w!==(w=f[0].price+"")&&Z(C,w)},i:z,o:z,d(f){f&&d(a),i&&i.d(),S=!1,lt(A)}}}function ht(c,a,r){let t;st(c,Q,s=>r(4,t=s));let{product:e}=a;function o(s){dt("/product/"+s)}function l(s){s.stopPropagation(),console.log("local",t);let h=_t(e,1);rt(Q,t=[...t,h],t)}const n=()=>o(e._id);return c.$$set=s=>{"product"in s&&r(0,e=s.product)},[e,o,l,n]}class mt extends K{constructor(a){super();O(this,a,ht,pt,R,{product:0})}}function tt(c,a,r){const t=c.slice();return t[1]=a[r],t}function et(c){let a,r,t=c[0],e=[];for(let l=0;l<t.length;l+=1)e[l]=at(tt(c,t,l));const o=l=>j(e[l],1,1,()=>{e[l]=null});return{c(){for(let l=0;l<e.length;l+=1)e[l].c();a=T()},l(l){for(let n=0;n<e.length;n+=1)e[n].l(l);a=T()},m(l,n){for(let s=0;s<e.length;s+=1)e[s].m(l,n);y(l,a,n),r=!0},p(l,n){if(n&1){t=l[0];let s;for(s=0;s<t.length;s+=1){const h=tt(l,t,s);e[s]?(e[s].p(h,n),b(e[s],1)):(e[s]=at(h),e[s].c(),b(e[s],1),e[s].m(a.parentNode,a))}for(L(),s=t.length;s<e.length;s+=1)o(s);H()}},i(l){if(!r){for(let n=0;n<t.length;n+=1)b(e[n]);r=!0}},o(l){e=e.filter(Boolean);for(let n=0;n<e.length;n+=1)j(e[n]);r=!1},d(l){ut(e,l),l&&d(a)}}}function at(c){let a,r;return a=new mt({props:{product:c[1]}}),{c(){ot(a.$$.fragment)},l(t){ct(a.$$.fragment,t)},m(t,e){nt(a,t,e),r=!0},p(t,e){const o={};e&1&&(o.product=t[1]),a.$set(o)},i(t){r||(b(a.$$.fragment,t),r=!0)},o(t){j(a.$$.fragment,t),r=!1},d(t){it(a,t)}}}function vt(c){let a,r,t=c[0]&&et(c);return{c(){t&&t.c(),a=T()},l(e){t&&t.l(e),a=T()},m(e,o){t&&t.m(e,o),y(e,a,o),r=!0},p(e,[o]){e[0]?t?(t.p(e,o),o&1&&b(t,1)):(t=et(e),t.c(),b(t,1),t.m(a.parentNode,a)):t&&(L(),j(t,1,1,()=>{t=null}),H())},i(e){r||(b(t),r=!0)},o(e){j(t),r=!1},d(e){t&&t.d(e),e&&d(a)}}}function gt(c,a,r){var t;return ft(async()=>{let e=await fetch("/api/product");r(0,t=await e.json()),console.log(t)}),[t]}class jt extends K{constructor(a){super();O(this,a,gt,vt,R,{})}}export{jt as default};
